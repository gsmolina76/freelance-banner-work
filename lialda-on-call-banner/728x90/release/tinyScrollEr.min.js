!function(t,e){"use strict";function o(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}function n(n,r){function a(){return y.update(),u(),y}function c(){E.style[I]=y.thumbPosition+"px",L.style[I]=-y.contentPosition+"px",g.style[T]=y.trackSize+y.totalArrowSize+"px",k.style[T]=y.trackSize+"px",E.style[T]=y.thumbSize+"px"}function u(){R?A.ontouchstart=function(t){1===t.touches.length&&(m(t.touches[0]),t.stopPropagation())}:(E.onmousedown=function(t){return t.stopPropagation(),m(t),!1},k.onmousedown=function(t){return m(t,!0),!1}),t.addEventListener("resize",function(){y.update("relative")},!0),y.options.wheel&&t.addEventListener?n.addEventListener(D,d,!1):y.options.wheel&&(n.onmousewheel=d),y.options.arrows&&t.addEventListener&&(x.addEventListener("mousedown",function(){f(1)}),M.addEventListener("mousedown",function(){f(-1)}),x.addEventListener("mouseup",function(){S()}),M.addEventListener("mouseup",function(){S()}),x.addEventListener("mouseout",function(){S()}),M.addEventListener("mouseout",function(){S()}))}function l(){return y.contentPosition>0}function h(){return y.contentPosition<=y.contentSize-y.viewportSize-5}function m(t,e){if(y.hasContentToScroll){{I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()}C=e?E.getBoundingClientRect()[I]:q?t.clientX:t.clientY,P.className+=" noSelect",R?(document.ontouchmove=function(t){(y.options.touchLock||l()&&h())&&t.preventDefault(),v(t.touches[0])},document.ontouchend=p):(document.onmousemove=v,document.onmouseup=E.onmouseup=p),y.update("relative"),v(t)}}function d(e){if(y.hasContentToScroll){y.update("relative");{var o=e||t.event,i=-(o.deltaY||o.detail||-1/3*o.wheelDelta)/40;1===o.deltaMode?y.options.wheelSpeed:1}y.contentPosition-=i*y.options.wheelSpeed,y.contentPosition=Math.min(y.contentSize-y.viewportSize,Math.max(0,y.contentPosition)),y.thumbPosition=y.contentPosition/y.trackRatio,n.dispatchEvent(K),E.style[I]=y.thumbPosition+"px",L.style[I]=-y.contentPosition+"px",(y.options.wheelLock||l()&&h())&&o.preventDefault()}}function v(t){if(y.hasContentToScroll){var e=q?t.clientX:t.clientY,o=R?C-e:e-C,i=Math.min(y.trackSize-y.thumbSize,Math.max(0,y.thumbPosition+o));y.contentPosition=i*y.trackRatio,n.dispatchEvent(K),E.style[I]=i+"px",L.style[I]=-y.contentPosition+"px"}}function p(){y.thumbPosition=parseInt(E.style[I],10)||0,P.className=P.className.replace(" noSelect",""),document.onmousemove=document.onmouseup=null,E.onmouseup=null,k.onmouseup=null,document.ontouchmove=document.ontouchend=null}function w(t){var e=3,o=y.contentPosition+t*e;y.update(0>o?0:o>y.contentSize-y.viewportSize?y.contentSize-y.viewportSize:o)}function f(t){y.arrowActive||(y.arrowActive=!0,y.arrowIntervals[y.arrowIntervals.length]=setInterval(function(){w(t)},1))}function S(){y.arrowActive&&(y.arrowActive=!1,z(y.arrowIntervals))}function z(t){for(var e=0;e<t.length;e++)clearInterval(t[e]),t.length--}function b(){n.innerHTML='<div class="scrollbar"><div class="decrement"></div><div class="increment"></div><div class="track"><div class="thumb"></div></div></div><div class="viewport"><div class="overview">'+n.innerHTML+"</div></div>",n.style.overflow="hidden"}this.options=o({},s,r),this._defaults=s,this._name=i,this.options.autoWrap&&b();var y=this,P=document.querySelectorAll("body")[0],A=n.querySelectorAll(".viewport")[0],L=n.querySelectorAll(".overview")[0],g=n.querySelectorAll(".scrollbar")[0],k=g.querySelectorAll(".track")[0],E=g.querySelectorAll(".thumb")[0],x=g.querySelectorAll(".increment")[0],M=g.querySelectorAll(".decrement")[0],C=0,q="x"===this.options.axis,R="ontouchstart"in document.documentElement,D="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==e?"mousewheel":"DOMMouseScroll",T=q?"width":"height",I=q?"left":"top",K=document.createEvent("HTMLEvents");return K.initEvent("move",!0,!0),this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.totalArrowSize=0,this.trackSize=0,this.arrows=!0,this.autoWrap=!1,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.hasContentToScroll=!1,this.arrowActive=!1,this.arrowIntervals=[],this.autoKill=function(){},this.update=function(t){var e=T.charAt(0).toUpperCase()+T.slice(1).toLowerCase(),o=g.className;switch(this.totalArrowSize=this.options.arrows?x["client"+e]+M["client"+e]:0,this.viewportSize=A["offset"+e],this.contentSize=L["scroll"+e],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize-this.totalArrowSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(this.options.thumbSizeMin,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize),this.hasContentToScroll=this.contentRatio<1,g.className=this.hasContentToScroll?o.replace(/disable/g,""):o.replace(/ disable/g,"")+" disable",t){case"bottom":this.contentPosition=Math.max(this.contentSize-this.viewportSize,0);break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(t,10)||0}return this.thumbPosition=y.contentPosition/y.trackRatio,c(),y},this.set=function(t){return this.options=o({},y.options,t),this.update()},this.autoScroll=function(e){var i=I.charAt(0).toUpperCase()+I.slice(1).toLowerCase(),s=T.charAt(0).toUpperCase()+T.slice(1).toLowerCase(),r={from:y.contentPosition,to:y.contentPosition,t:3,delay:0,onAutoKill:function(){},onComplete:function(){}},a=null,c=+new Date,u=o({},r,e),l=[],h=!1,m=1e3*u.t,d=1e3*u.delay;u.to="max"==u.to?y.contentSize-y.viewportSize:"object"==typeof u.to?u.to["offset"+i]-n["client"+s]:u.to;var v=function(t,e,o,n,i){return t*(n-i)/e+i};this.autoKill=function w(){for(h=!0;l.length>0;)t.cancelAnimationFrame(l[0]),l.length--;g.removeEventListener("mousedown",w),E.removeEventListener("mousedown",w),n.removeEventListener(D,w),u.onAutoKill.call()};var p=function(e){if(c||(c=e,p(+new Date)),c+d>e)return void(l[l.length]=t.requestAnimationFrame(function(){p(+new Date)}));a||(a=e);var o=e-a,n=v(o,m,a,u.to,u.from);o>=m&&(h=!0,u.onComplete.call()),h||(y.update(Math.min(n,u.to)),m>o&&(l[l.length]=t.requestAnimationFrame(function(){p(+new Date)})))};return g.addEventListener("mousedown",this.autoKill),E.addEventListener("mousedown",this.autoKill),n.addEventListener(D,this.autoKill),l[l.length]=t.requestAnimationFrame(function(){p(+new Date)}),y},a()}var i="tinyscrollbar",s={axis:"y",wheel:!0,wheelSpeed:60,wheelLock:!0,touchLock:!0,trackSize:!1,thumbSize:!1,thumbSizeMin:1,arrows:!0,autoWrap:!1},r=function(t,e){return new n(t,e)};"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof module&&module.exports?module.exports=r:t.tinyscrollbar=r}(window);